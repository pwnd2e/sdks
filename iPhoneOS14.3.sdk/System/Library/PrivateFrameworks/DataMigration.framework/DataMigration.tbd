--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _DMCancelDeferredExit,
                            _DMChangeGraphicalProgressVisibility, _DMCopyContext,
                            _DMCopyCurrentBuildVersion,
                            _DMCopyMigrationPhaseDescription,
                            _DMCopyOrderedPluginIndentifiers, _DMDeferExit,
                            _DMForceMigrationOnNextReboot,
                            _DMForceMigrationOnNextRebootWithUserDataDisposition,
                            _DMGetMigrationPluginResults,
                            _DMGetPreviousBuildVersion,
                            _DMGetUserDataDisposition, _DMIsMigrationNeeded,
                            _DMPerformMigration, _DMPerformMigrationIfNeeded,
                            _DMPerformMigrationReturningAfterPlugin,
                            _DMReportMigrationFailure, _DMSetContext,
                            _DMTestMigrationUI,
                            _DMTestPerformMigrationInfrastructure, __DMCoreLog,
                            __DMLog, __DMLogFunc, __DMPerformMigration,
                            __DMPluginSignpostLog,
                            _kDMMigrationDeferredExitEntitlement ]
    objc-classes:         [ DMClientAPIController, DMConnection, DMEnvironment,
                            DMMigrationDeferredExitManager,
                            DMMigrationPluginWrapperConnection,
                            DMMigrationPluginWrapperWatchdog, DMPluginFaulter,
                            DMPluginFileSystemRep, DMPluginParameters, DMTimer,
                            DMUserDataDispositionManager, DMXPCConnection,
                            DataClassMigrator ]
    objc-ivars:           [ DMClientAPIController._connectionMigrationMaximumAttempts,
                            DMClientAPIController._connectionMigrationTimeIntervalToLastRetryDate,
                            DMConnection._connection,
                            DMEnvironment._testMigrationInfrastructureOnly,
                            DMMigrationPluginWrapperConnection._connection,
                            DMMigrationPluginWrapperConnection._didReceivePid,
                            DMMigrationPluginWrapperWatchdog._backupDeviceUUID,
                            DMMigrationPluginWrapperWatchdog._faulter,
                            DMMigrationPluginWrapperWatchdog._fireCount,
                            DMMigrationPluginWrapperWatchdog._pluginBundleIdentifier,
                            DMMigrationPluginWrapperWatchdog._secondsBeforeNextFault,
                            DMMigrationPluginWrapperWatchdog._secondsOfLeeway,
                            DMMigrationPluginWrapperWatchdog._timer,
                            DMPluginFaulter._message,
                            DMPluginFileSystemRep._bundle,
                            DMPluginFileSystemRep._bundleIdentifier,
                            DMPluginFileSystemRep._name,
                            DMPluginFileSystemRep._path,
                            DMPluginParameters._backupDeviceUUID,
                            DMPluginParameters._dispositionSupersetOfContext,
                            DMTimer._fireBlock, DMTimer._secondsBeforeFirstFire,
                            DMTimer._secondsOfLeeway, DMTimer._timer,
                            DMXPCConnection._connection,
                            DMXPCConnection._interruptionHandler,
                            DMXPCConnection._invalidationHandler,
                            DMXPCConnection._messageHandler,
                            DMXPCConnection._queue, DMXPCConnection._replyQueue,
                            DataClassMigrator._context,
                            DataClassMigrator._didUpgrade,
                            DataClassMigrator._dmBundleIdentifier,
                            DataClassMigrator._restoredBackupBuildVersion,
                            DataClassMigrator._restoredBackupProductType,
                            DataClassMigrator._userDataDisposition ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFAutorelease, _CFBooleanGetTypeID,
                            _CFBooleanGetValue, _CFDictionaryGetTypeID,
                            _CFDictionaryGetValue, _CFGetTypeID,
                            _CFPreferencesAppSynchronize,
                            _CFPreferencesCopyAppValue, _CFPreferencesCopyValue,
                            _CFPreferencesGetAppBooleanValue,
                            _CFPreferencesSetValue, _CFPreferencesSynchronize,
                            _CFPropertyListCreateWithStream,
                            _CFPropertyListWrite, _CFReadStreamClose,
                            _CFReadStreamCreateWithFile, _CFReadStreamOpen,
                            _CFRelease, _CFStringGetCString, _CFStringGetLength,
                            _CFURLCreateWithFileSystemPath, _CFWriteStreamClose,
                            _CFWriteStreamCopyError,
                            _CFWriteStreamCreateWithFile, _CFWriteStreamOpen,
                            _NSLocalizedDescriptionKey, _NSSelectorFromString,
                            _SecTaskCopyValueForEntitlement,
                            _SecTaskCreateWithAuditToken, __Block_object_assign,
                            __Block_object_dispose,
                            __CFCopySystemVersionDictionary,
                            __CFPreferencesFlushCachesForIdentifier,
                            __NSConcreteGlobalBlock, __NSConcreteStackBlock,
                            __Unwind_Resume, ___CFConstantStringClassReference,
                            ___assert_rtn, ___error, ___objc_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __dispatch_main_q, __dispatch_source_type_timer,
                            __kCFSystemVersionBuildVersionKey,
                            __objc_empty_cache, __os_log_fault_impl,
                            __xpc_error_connection_interrupted,
                            __xpc_error_connection_invalid,
                            __xpc_error_key_description,
                            __xpc_error_termination_imminent, __xpc_type_array,
                            __xpc_type_dictionary, __xpc_type_error, _chown,
                            _dispatch_after, _dispatch_once,
                            _dispatch_queue_create, _dispatch_resume,
                            _dispatch_source_cancel, _dispatch_source_create,
                            _dispatch_source_set_event_handler,
                            _dispatch_source_set_timer,
                            _dispatch_source_testcancel, _dispatch_sync,
                            _dispatch_time, _getpid, _getprogname, _getpwnam,
                            _kCFAllocatorSystemDefault,
                            _kCFPreferencesCurrentHost,
                            _kCFPreferencesCurrentUser, _malloc, _objc_alloc,
                            _objc_alloc_init, _objc_autoreleaseReturnValue,
                            _objc_copyWeak, _objc_destroyWeak,
                            _objc_enumerationMutation, _objc_getProperty,
                            _objc_initWeak, _objc_loadWeakRetained, _objc_msgSend,
                            _objc_msgSendSuper2, _objc_opt_class,
                            _objc_opt_isKindOfClass,
                            _objc_opt_respondsToSelector, _objc_release,
                            _objc_retain, _objc_retainAutorelease,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_setProperty_atomic_copy,
                            _objc_setProperty_nonatomic_copy, _objc_storeStrong,
                            _objc_sync_enter, _objc_sync_exit,
                            _objc_unsafeClaimAutoreleasedReturnValue,
                            _os_log_create, _os_log_shim_with_CFString,
                            _os_log_type_enabled, _os_transaction_create,
                            _os_variant_has_internal_content,
                            _os_variant_uses_ephemeral_storage, _strerror, _unlink,
                            _xpc_array_get_count, _xpc_array_get_string,
                            _xpc_connection_cancel, _xpc_connection_create,
                            _xpc_connection_get_audit_token,
                            _xpc_connection_get_pid, _xpc_connection_resume,
                            _xpc_connection_send_message_with_reply,
                            _xpc_connection_send_message_with_reply_sync,
                            _xpc_connection_set_event_handler,
                            _xpc_connection_set_target_queue,
                            _xpc_dictionary_create, _xpc_dictionary_get_bool,
                            _xpc_dictionary_get_data, _xpc_dictionary_get_int64,
                            _xpc_dictionary_get_string,
                            _xpc_dictionary_get_uint64,
                            _xpc_dictionary_get_value, _xpc_dictionary_set_bool,
                            _xpc_dictionary_set_int64,
                            _xpc_dictionary_set_string,
                            _xpc_dictionary_set_uint64, _xpc_get_type,
                            _xpc_transaction_exit_clean, dyld_stub_binder ]
    objc-classes:         [ NSBundle, NSConstantDoubleNumber, NSData, NSDate,
                            NSDictionary, NSError, NSFileManager, NSKeyedUnarchiver,
                            NSMutableArray, NSNumber, NSObject, NSString, NSThread,
                            NSUUID ]
...
